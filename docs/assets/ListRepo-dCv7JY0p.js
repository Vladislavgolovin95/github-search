import{j as s,S as u,a as h,D as N,M as x,r as S,b as k}from"./index-z_Eh9BZy.js";import{o as i,S as d,A as b,a as v,i as f,b as C,L as j,B as m,m as _,c as g,d as n}from"./AvatarProfile-Cbn_YdbM.js";const w=i(({item:a})=>{const{addFavorite:r,removeFavorite:e}=d,l=()=>{a.isFavorite?(e(a.id),_.info(x.delete)):(r(a),_.success(x.added))},c=()=>{g(a.owner.html_url)},t={classWrapper:"stats-wrapper_repo",classWrapperIcon:"stats-wrapper-icon_repo",classImage:"stats-icon_repo",classWrapperText:"stats-text-wrapper_repo",classValue:"stats-value_repo",classDescription:"stats-description_repo"};return s.jsxs("li",{className:"card-repo",children:[s.jsxs("div",{className:"card-repo__content",children:[s.jsxs("div",{className:"card-repo__owner",children:[s.jsx(b,{className:"card-repo__img",url:a.owner.avatar_url}),s.jsxs("div",{className:"stats-card-wrapper",children:[s.jsx(v,{classNames:t,url:f,alt:u.stars,value:a.stargazers_count.toLocaleString("ru-RU")}),s.jsx(v,{classNames:t,url:C,alt:u.forks,value:a.forks_count.toLocaleString("ru-RU")})]})]}),s.jsxs("p",{className:"card-repo__login",children:["@",a.owner.login]}),s.jsx(j,{className:"card-repo__link",href:a.owner.html_url,text:a.full_name})]}),s.jsxs("div",{className:"card-repo__actions",children:[s.jsxs("div",{className:"card-repo__buttons",children:[s.jsx(m,{className:`btn btn-card-repo ${a.isFavorite?"btn-favorite_active":"btn-favorite"}`,onClick:l}),s.jsx(m,{className:"btn btn-card-repo btn-copylink",onClick:c})]}),s.jsx(h,{to:`/profile/${a.id}`,children:s.jsx(j,{className:"link link_card-repo",text:N})})]})]})}),L=({label:a,count:r})=>s.jsx("p",{className:"repo-count",children:`${a}: ${r} repositories`}),R=i(()=>{var p;const{sortCriterial:a,setSortCriterial:r}=d,[e,l]=S.useState(!1),c=o=>{r(o),l(!1)},t=[{value:n.Name,label:"По имени"},{value:n.Stars,label:"По звездам"},{value:n.Forks,label:"По форкам"},{value:n.Novelty,label:"По новизне"}];return s.jsxs("div",{className:"custom-select",children:[s.jsxs("div",{className:"selected-option",onClick:()=>l(!e),children:[(p=t.find(o=>o.value===a))==null?void 0:p.label,s.jsx("span",{className:`icon ${e?"open":""}`})]}),e&&s.jsx("ul",{className:"dropdown-options",children:t.map(o=>s.jsx("li",{className:"dropdown-item",onClick:()=>c(o.value),children:o.label},o.value))})]})}),I=i(({repository:a,label:r})=>{const{isLoading:e}=d;return e?s.jsx("div",{className:"loading-wrapper",children:s.jsx(k,{loading:e})}):a.length===0?null:s.jsx("div",{className:"container",children:s.jsxs("ul",{className:"list",children:[s.jsxs("div",{className:"container sort-panel",children:[s.jsx(L,{label:r,count:a.length}),s.jsx(R,{})]}),a.map(l=>s.jsx(w,{item:l},l.id))]})})});export{I as L};
